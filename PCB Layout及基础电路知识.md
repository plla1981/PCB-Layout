<!--采用非Github模板，请使用Typora软件打开-->









#  PCB Layout及电路基础

<!--PCB设计，是一个折中的艺术。-->



## 一、 设计思路

### 前言

#### 高速PCB设计需要考虑的因素

- 成本控制

- 叠层排布原则

- 布局原则

- 布线原则

- 阻抗设计

- 信号完整性

- 电源完整性

- EMC设计

- 热设计

- DFM设计

  ------

  

  - **所有器件进行电源滤波，均匀分配电源，降低系统的噪声**

  - **匹配信号线，减少信号反射**

  - **降低并行走线之间的串扰**：（3W原则）

    - 理论基础：

      当两个电路彼此靠近时，由于电路之间的电容性（电场）和电感性（磁场）**耦合**，在一个电路中传播的信号会在另一电路中感应出信号。这种现象称为串扰。基础模型如图1-1所示。

      [^耦合]:*两个或两个以上的电路构成一个网络时，若其中某一电路中电流或电压发生变化，能影响到其他电路也发生类似的变化，这种网络叫做耦合电路。耦合的作用就是把某一电路的能量输送（或转换）到其他的电路中去。*

      ![图1-1](Photo/%E5%9B%BE1-1.png)
      
      <div align="center">图1-1 微带线PCB示意图</div>
      
      [如何有效减少PCB走线之间的串扰]: https://www.sohu.com/a/452855106_656620

  - **减小地反弹效应**

  - **阻抗匹配**（信号反射）

    

  ****

  

#### 高速PCB的定义

- 数字逻辑电路的频率 ≥ 45MHZ~50MHZ，而且工作在这个频率之上的电路已经占到了整个电子系统的1/3

- 实际上，**信号边沿的谐波频率比信号本身的频率高**，是信号快速变化的上升沿与下降沿，引发了信号传输的**非预期结果**。因此，通常约定，**==如果线传播延时大于1/2数字信号驱动端的上升时间，则认为此类信号是高速信号并产生传输线效应==**。

- **==信号的传播时间在PCB设计中由实际布线长度决定，PCB板上的每单位英寸的延时为0.167ns==。**过孔多、器件管脚多、网络线上设置的约束多，延时将增大。

- 通常高速逻辑器件的信号上升时间大约为0.2ns

  设Tr为信号上升时间，Tpd为信号线传播延时
  $$
  Tr≥4Tpd，则信号落在安全区域。
  $$

  $$
  2Tpd≤Tr≥4Tpd，则信号落在不确定区域。
  $$

  $$
  Tr≤2Tpd，则信号落在问题区域。
  $$

------



#### 1.信号流向规划

规范的信号流向图1-2：

![信号流向图](Photo/%E4%BF%A1%E5%8F%B7%E6%B5%81%E5%90%91%E5%9B%BE.png)

<div align="center">图1-2 信号流向图</div>

- 标注关键信号的速率

- 标注关键器件的位置信息

  ------

  

#### 2.飞线引导规划

1. 每一个模块的器件放在一起，

2. 电源与地线飞线显示关闭，只留信号飞线
3. 标注每个模块的名称、功能和速率等

![飞线引导规划](Photo/%E9%A3%9E%E7%BA%BF%E5%BC%95%E5%AF%BC%E8%A7%84%E5%88%92.png)

<div align="center">图1-3 由繁到简飞线图</div>

#### 3.电源树分析

1. 理清电源电路的输入及输出供电路径，有助于PCB设计：
   - 走线粗细设计
   - 增加电源过孔
   - 规划电源平面
   - 设计叠层
2. 标注出每路电源的电压值和电流值

### 章总结：模块规划分为电源电路和数电模电电路。画板软件熟能生巧，**==掌握产品设计要点和每个模块的功能，才能让设计的方法和思路更进一步==**。

------

<div align="center">↑第一章END↑</div>

------





## 二、常用电路模块布局设计

#### 1. 电路分区设计

- 给每个模块划分区域
- 多人协作，加快效率

#### 2.掌握每个模块的设计要点、原理

- 模块的主要信号线
- 特定的电容电阻灯元器件，应当放置在特定的引脚和信号线附近
- 在ddr内存和flash中，信号引脚都会有防反射的电阻，如走线困难，需要通过仿真验证，来确定是否去掉电阻
- CPU部分中的去耦电容，放在芯片背面，通过打孔连接
- 电源单点接地：输入滤波电容的地、输出滤波电容的地和芯片的地汇流在一起，**优点：电源纹波比较小**

